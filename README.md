# Git Log Markdown Formatter

Git Log Markdown Formater is a command line tool to convert a given git log one line output to markdown syntax by reformating and adding content like commit and issue links.

## How to use it

Create a git log for your desired git repository by calling

```bash
git log --format="H=%H;h=%h;T=%T;t=%t;P=%P;p=%p;an=%an;ae=%ae;ad=%ad;ar=%ar;cn=%cn;ce=%ce;cd=%cd;cr=%cr;s=%s;b=%b" >> log.txt
```

You can modify the git log command as you like but you will always have to use ```--format="H=%H;h=%h;T=%T;t=%t;P=%P;p=%p;an=%an;ae=%ae;ad=%ad;ar=%ar;cn=%cn;ce=%ce;cd=%cd;cr=%cr;s=%s;b=%b""``` to output the correct format, readable by this tool.

```bash
./glmf format -i log.txt -o release_notes.md --header "# Release 1.0.0" --footer "Autogenerated by pipeline 56748" --issueBaseUrl "https://github.com/Ephenodrom/Git-Log-Markdown-Formatter/issues" --commitBaseUrl "https://github.com/Ephenodrom/Git-Log-Markdown-Formatter/commit/"
```

### Parameters

| Option | Description | Allowed values | Required |
| ------------- | ------------- | ------------- | ------------- |
| --inputfile, -i  | The file containing the git log output. |  | Yes |
| --outputfile, -o  | The file to write the markdown to. If left, the markdown will override the file containing the git log.  |  |  |
| --template, -t  | The template to use for each line. | %s, %H, %an (default= "%s %H by %an") |  |
| --issueType | The issue management software you use. | JIRA (default), GITHUB, GITLAB |  |
| --issueBaseUrl | The base url to display the issue. |  | Required if addIssueLink != NONE |
| --commitBaseUrl | The base url to display the commit. |  | Required if addCommitLink != NONE |
| --addIssueLink  | Whether to add a issue link within the subject (%s) if one is found. | NONE, REPLACE (default), PREPEND, APPEND |  |
| --addCommitLink | Whether to add a commit link to the hash (%H) or replace it. | NONE, REPLACE (default), PREPEND, APPEND |  |
| --header | String to append at the beginning of the markdown. |  |  |
| --footer| String to append at the end of the markdown. |  |  |
| --listStyle | The list style to use for each line. '-', '*' or none. | DASH (default), ASTERISK, NONE |  |

### The template

You can define a custom template to order the values in a certain order or to create a readable markdown. The default template is set to **"%s %H by %an"** and results in something similar to this:

```txt
- [JIRA-2](https://jira.com/JIRA-2) aa1114f4d27a049ac4e01fa78402eee965a1528a by Ephenodrom
- Update README.md c491eb38b129b85a21e6482c8e7e7a8cdd02e03a by Ephenodrom
```

The allowed values:

- **%H**: Commit hash (full).
- **%h**: Abbreviated commit hash.
- **%T**: Tree hash.
- **%t**: Abbreviated tree hash.
- **%P**: Parent hashes.
- **%p**: Abbreviated parent hashes.
- **%an**: Author name.
- **%ae**: Author email.
- **%ad**: Author date (default format).
- **%ar**: Author date, relative.
- **%cn**: Committer name.
- **%ce**: Committer email.
- **%cd**: Committer date (default format).
- **%cr**: Committer date, relative.
- **%s**: Subject (commit message).
- **%b**: Body (commit message).

>>>
The allowed values are basically the same as you can use in **git log**.
>>>

### Pipeline example

## Executable binary

The binary can be fetched from the latest release on Github or you can compile it yourself.

```bash
cd /git/repo
dart pub get
dart compile exe bin/git_log_markdown_formatter.dart -o glmf
```
